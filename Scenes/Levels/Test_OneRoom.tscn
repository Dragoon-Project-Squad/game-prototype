[gd_scene load_steps=15 format=3 uid="uid://e05tlpaab7j0"]

[ext_resource type="PackedScene" path="res://Scenes/Scene Objects/Exit.tscn" id="1"]
[ext_resource type="PackedScene" uid="uid://dfvbf3g3nk1ef" path="res://Scenes/Player/ModulePlayer.tscn" id="2"]
[ext_resource type="TileSet" path="res://Assets/Tilesets/beach_tiles.tres" id="3"]
[ext_resource type="Script" path="res://Scripts/Level/LockedExitLevelScript.gd" id="4"]
[ext_resource type="PackedScene" uid="uid://dgq20amenquxv" path="res://Scenes/Enemy/V1/Enemy.tscn" id="5"]
[ext_resource type="PackedScene" path="res://Scenes/Scene Objects/Key.tscn" id="6"]
[ext_resource type="PackedScene" path="res://Scenes/Scene Objects/Lever.tscn" id="7"]
[ext_resource type="PackedScene" path="res://Scenes/Scene Objects/KeyLockedExit.tscn" id="8"]
[ext_resource type="PackedScene" path="res://Scenes/Scene Objects/Torch.tscn" id="9"]
[ext_resource type="PackedScene" uid="uid://ne8llq5e6hwq" path="res://Scenes/Enemy/EnemyDragoon.tscn" id="10"]
[ext_resource type="PackedScene" uid="uid://sep4m2shbvfr" path="res://Scenes/Enemy/EnemyShambler.tscn" id="11"]
[ext_resource type="PackedScene" uid="uid://n1gy62ci4ma1" path="res://Scenes/Enemy/EnemyPomudachi.tscn" id="12"]
[ext_resource type="PackedScene" uid="uid://68ubt4odqo12" path="res://Scenes/Enemy/EnemyProwler.tscn" id="13"]
[ext_resource type="PackedScene" path="res://Scenes/Scene Objects/Door/DungeonExitRoomDoor.tscn" id="14"]

[node name="Node2D" type="Node2D"]
script = ExtResource("4")

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("3")
format = 2
layer_0/tile_data = PackedInt32Array(327661, 2, 0, 524259, 65537, 3, 524260, 131073, 2, 524261, 131073, 3, 524262, 65537, 2, 524263, 65537, 2, 524264, 196609, 2, 524265, 1, 2, 524266, 262145, 3, 524267, 65537, 0, 524268, 1, 1, 524269, 262145, 0, 524270, 131073, 0, 524271, 262145, 1, 524272, 131073, 0, 524273, 131073, 1, 524274, 196609, 0, 524275, 65537, 1, 524276, 262145, 3, 524277, 65537, 0, 524278, 65537, 2, 524279, 196609, 3, 524280, 131073, 1, 524281, 196609, 2, 524282, 262145, 0, 524283, 1, 0, 524284, 131073, 0, 524285, 131073, 1, 589795, 1, 2, 589796, 65537, 2, 589797, 1, 0, 589798, 1, 0, 589799, 65537, 2, 589800, 262145, 2, 589801, 196609, 2, 589802, 196609, 0, 589803, 1, 0, 589804, 196609, 0, 589805, 262145, 3, 589806, 196609, 2, 589807, 1, 2, 589808, 131073, 0, 589809, 262145, 3, 589810, 196609, 0, 589811, 131073, 2, 589812, 65537, 2, 589813, 65537, 0, 589814, 262145, 0, 589815, 1, 1, 589816, 131073, 0, 589817, 1, 3, 589818, 65537, 2, 589819, 262145, 2, 589820, 65537, 2, 589821, 196609, 0, 655331, 196609, 0, 655332, 131073, 2, 655333, 1, 0, 655334, 131073, 1, 655335, 1, 3, 655336, 1, 0, 655337, 1, 0, 655338, 1, 0, 655339, 1, 0, 655340, 196609, 2, 655341, 1, 0, 655342, 1, 0, 655343, 1, 0, 655344, 1, 0, 655345, 1, 0, 655346, 1, 0, 655347, 1, 0, 655348, 1, 0, 655349, 1, 0, 655350, 65537, 0, 655351, 262145, 3, 655352, 65537, 0, 655353, 196609, 0, 655354, 65537, 2, 655355, 262145, 0, 655356, 131073, 2, 655357, 1, 3, 720867, 1, 1, 720868, 131073, 0, 720869, 1, 0, 720870, 65537, 0, 720871, 65537, 1, 720872, 196609, 3, 720873, 196609, 3, 720874, 196609, 1, 720875, 1, 0, 720876, 196609, 1, 720877, 65537, 2, 720878, 262145, 1, 720879, 1, 2, 720880, 1, 3, 720881, 131073, 2, 720882, 131073, 3, 720883, 262145, 0, 720884, 1, 0, 720885, 1, 0, 720886, 1, 0, 720887, 131073, 1, 720888, 1, 1, 720889, 196609, 0, 720890, 131073, 3, 720891, 65537, 2, 720892, 1, 3, 720893, 131073, 3, 786403, 131073, 2, 786404, 262145, 0, 786405, 1, 0, 786406, 131073, 0, 786407, 262145, 0, 786408, 131073, 3, 786409, 1, 3, 786410, 1, 0, 786411, 65537, 0, 786412, 1, 3, 786413, 262145, 2, 786414, 262145, 3, 786415, 262145, 1, 786416, 262145, 1, 786417, 262145, 0, 786418, 196609, 0, 786419, 196609, 2, 786420, 196609, 2, 786421, 1, 0, 786422, 196609, 2, 786423, 1, 0, 786424, 262145, 1, 786425, 65537, 3, 786426, 196609, 2, 786427, 1, 2, 786428, 131073, 2, 786429, 65537, 0, 851939, 196609, 2, 851940, 196609, 2, 851941, 262145, 0, 851942, 1, 0, 851943, 262145, 3, 851944, 1, 2, 851945, 65537, 0, 851946, 131073, 2, 851947, 262145, 2, 851948, 262145, 2, 851949, 262145, 3, 851950, 1, 1, 851951, 196609, 2, 851952, 1, 0, 851953, 131073, 2, 851954, 131073, 1, 851955, 1, 0, 851956, 65537, 3, 851957, 131073, 0, 851958, 131073, 3, 851959, 65537, 3, 851960, 65537, 1, 851961, 262145, 3, 851962, 262145, 3, 851963, 1, 2, 851964, 65537, 3, 851965, 262145, 2, 917475, 1, 1, 917476, 262145, 1, 917477, 1, 3, 917478, 196609, 3, 917479, 1, 0, 917480, 65537, 2, 917481, 1, 0, 917482, 65537, 1, 917483, 131073, 3, 917484, 196609, 2, 917485, 1, 0, 917486, 1, 0, 917487, 65537, 3, 917488, 1, 0, 917489, 65537, 3, 917490, 262145, 1, 917491, 196609, 1, 917492, 262145, 3, 917493, 262145, 3, 917494, 196609, 0, 917495, 262145, 0, 917496, 196609, 3, 917497, 196609, 1, 917498, 65537, 1, 917499, 65537, 1, 917500, 131073, 0, 917501, 196609, 3, 983011, 196609, 3, 983012, 196609, 3, 983013, 262145, 2, 983014, 131073, 1, 983015, 65537, 0, 983016, 196609, 2, 983017, 1, 2, 983018, 65537, 2, 983019, 65537, 2, 983020, 1, 3, 983021, 131073, 0, 983022, 196609, 3, 983023, 65537, 3, 983024, 196609, 3, 983025, 65537, 3, 983026, 262145, 1, 983027, 262145, 0, 983028, 1, 0, 983029, 1, 0, 983030, 1, 2, 983031, 1, 3, 983032, 262145, 0, 983033, 262145, 1, 983034, 1, 1, 983035, 65537, 0, 983036, 262145, 3, 983037, 131073, 2, 1048547, 131073, 2, 1048548, 1, 2, 1048549, 1, 0, 1048550, 1, 2, 1048551, 196609, 2, 1048552, 262145, 0, 1048553, 1, 0, 1048554, 262145, 2, 1048555, 196609, 1, 1048556, 262145, 1, 1048557, 131073, 2, 1048558, 131073, 3, 1048559, 196609, 2, 1048560, 1, 2, 1048561, 262145, 0, 1048562, 1, 1, 1048563, 196609, 2, 1048564, 1, 0, 1048565, 1, 0, 1048566, 196609, 3, 1048567, 1, 0, 1048568, 65537, 0, 1048569, 131073, 3, 1048570, 131073, 0, 1048571, 196609, 2, 1048572, 65537, 0, 1048573, 65537, 3, 1114083, 131073, 1, 1114084, 65537, 0, 1114085, 1, 0, 1114086, 1, 0, 1114087, 1, 0, 1114088, 1, 0, 1114089, 1, 0, 1114090, 262145, 2, 1114091, 1, 0, 1114092, 196609, 1, 1114093, 1, 0, 1114094, 1, 0, 1114095, 131073, 2, 1114096, 131073, 1, 1114097, 1, 0, 1114098, 1, 0, 1114099, 262145, 3, 1114100, 1, 0, 1114101, 1, 0, 1114102, 1, 3, 1114103, 1, 2, 1114104, 1, 3, 1114105, 131073, 3, 1114106, 1, 3, 1114107, 262145, 1, 1114108, 131073, 2, 1114109, 65537, 0, 1179619, 1, 2, 1179620, 131073, 0, 1179621, 1, 0, 1179622, 1, 0, 1179623, 1, 0, 1179624, 1, 0, 1179625, 1, 0, 1179626, 65537, 3, 1179627, 65537, 2, 1179628, 1, 0, 1179629, 65537, 3, 1179630, 131073, 1, 1179631, 131073, 1, 1179632, 65537, 2, 1179633, 196609, 1, 1179634, 131073, 3, 1179635, 1, 0, 1179636, 1, 0, 1179637, 1, 0, 1179638, 262145, 3, 1179639, 1, 3, 1179640, 131073, 1, 1179641, 196609, 2, 1179642, 131073, 3, 1179643, 65537, 2, 1179644, 65537, 2, 1179645, 65537, 0)

[node name="Objects" type="Node2D" parent="."]
position = Vector2(0, 8)

[node name="Exit" parent="Objects" instance=ExtResource("1")]
position = Vector2(-211, 494)

[node name="ExitDoor" parent="Objects" instance=ExtResource("14")]
position = Vector2(-959, 569)

[node name="ModulePlayer" parent="Objects" instance=ExtResource("2")]
position = Vector2(-1203, 809)

[node name="Enemy" parent="Objects/ModulePlayer" instance=ExtResource("10")]
position = Vector2(645, -158)

[node name="Enemy2" parent="Objects/ModulePlayer" instance=ExtResource("12")]
position = Vector2(680, 178)

[node name="Prowler" parent="Objects/ModulePlayer" instance=ExtResource("13")]
position = Vector2(835, -158)

[node name="Shambler" parent="Objects/ModulePlayer" instance=ExtResource("11")]
position = Vector2(866, 47)

[node name="Enemy" parent="Objects" groups=["enemy"] instance=ExtResource("5")]
position = Vector2(-648, 826)

[node name="Key" parent="Objects" instance=ExtResource("6")]
position = Vector2(-505, 542)

[node name="Lever" parent="Objects" instance=ExtResource("7")]
position = Vector2(-322, 519)

[node name="KeyLockedExit" parent="Objects" instance=ExtResource("8")]
position = Vector2(-256, 1008)

[node name="Torch" parent="." instance=ExtResource("9")]
position = Vector2(-1803, 798)

[node name="Node" type="Node" parent="."]

[node name="Marker2D" type="Marker2D" parent="Node"]

[connection signal="key_randomPos" from="." to="Objects/Key" method="_on_Node2D_key_randomPos"]
[connection signal="leaving_level" from="Objects/ExitDoor" to="." method="_on_ExitDoor_leaving_level"]
[connection signal="door_stuck" from="Objects/ModulePlayer" to="Objects/KeyLockedExit" method="_on_ModulePlayer_door_stuck"]
[connection signal="key_used" from="Objects/ModulePlayer" to="Objects/KeyLockedExit" method="_on_ModulePlayer_key_used"]
[connection signal="key_acquired" from="Objects/Key" to="Objects/ModulePlayer" method="_on_Key_key_acquired"]
[connection signal="body_entered" from="Objects/Lever" to="Objects/Lever" method="_on_Lever_body_entered"]
[connection signal="body_exited" from="Objects/Lever" to="Objects/Lever" method="_on_Lever_body_exited"]
[connection signal="lever_set" from="Objects/Lever" to="." method="_on_Lever_lever_set"]
[connection signal="body_exited" from="Objects/KeyLockedExit" to="Objects/KeyLockedExit" method="_on_KeyLockedExit_body_exited"]
[connection signal="key_checked" from="Objects/KeyLockedExit" to="Objects/ModulePlayer" method="_on_KeyLockedExit_key_checked"]
